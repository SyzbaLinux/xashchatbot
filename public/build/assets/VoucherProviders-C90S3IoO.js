import{d as q,i as n,k as A,c as j,w as z,a as t,b as o,e as i,f as u,o as r,t as b,F as B,r as O,n as m,T as V,m as y,p as v,v as p,h as $}from"./app-DL7VrrT4.js";import{A as G}from"./AdminLayout-DoruTe-w.js";import"./NavLink.vue_vue_type_script_setup_true_lang-BLKJZ9FY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"space-y-6"},I={class:"flex items-center justify-between"},J={key:0,class:"flex items-center gap-2 px-4 py-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 rounded-lg text-sm"},K={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Q={class:"p-5"},R={class:"flex items-start justify-between gap-3"},W={class:"flex items-center gap-3"},X={class:"font-semibold text-gray-900 dark:text-white text-sm"},Y={class:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-0.5"},Z=["onClick","title"],ee={class:"mt-4 flex items-center justify-between"},te={class:"flex items-center gap-2"},se=["onClick"],re=["onClick"],ae={key:2,class:"flex flex-col items-center justify-center py-16 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600"},oe={class:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md"},le={class:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-slate-700"},de={key:0,class:"text-xs text-red-600 dark:text-red-400"},ne={class:"flex justify-end gap-3 pt-1"},ie=["disabled"],ue={key:0,class:"fas fa-spinner fa-spin mr-1"},ge={class:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md"},xe={class:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-slate-700"},be=["value"],fe={class:"flex justify-end gap-3 pt-1"},me=["disabled"],ye={key:0,class:"fas fa-spinner fa-spin mr-1"},ve={class:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm"},pe={class:"p-6 text-center"},ce={class:"text-sm text-gray-500 dark:text-gray-400"},ke={class:"font-semibold text-gray-700 dark:text-gray-300"},we={class:"flex gap-3 mt-5 justify-center"},he=["disabled"],Ce={key:0,class:"fas fa-spinner fa-spin mr-1"},_e=q({__name:"VoucherProviders",props:{providers:{}},setup(_){const g=n(!1),c=n(!1),k=n(""),l=A({name:"",code:"",sort_order:0}),F=()=>{c.value=!0,k.value="",$.post(route("admin.voucher-providers.store"),l,{preserveScroll:!0,onSuccess:()=>{g.value=!1,l.name="",l.code="",l.sort_order=0},onError:a=>{k.value=Object.values(a).flat().join(" ")},onFinish:()=>{c.value=!1}})},x=n(!1),w=n(!1),S=n(null),d=A({name:"",code:"",sort_order:0}),T=a=>{S.value=a,d.name=a.name,d.code=a.code,d.sort_order=a.sort_order,x.value=!0},M=()=>{S.value&&(w.value=!0,$.put(route("admin.voucher-providers.update",S.value.id),{name:d.name,sort_order:d.sort_order},{preserveScroll:!0,onSuccess:()=>{x.value=!1},onFinish:()=>{w.value=!1}}))},N=a=>{$.post(route("admin.voucher-providers.toggle",a.id),{},{preserveScroll:!0})},f=n(!1),h=n(!1),C=n(null),L=a=>{C.value=a,f.value=!0},U=()=>{C.value&&(h.value=!0,$.delete(route("admin.voucher-providers.destroy",C.value.id),{preserveScroll:!0,onSuccess:()=>{f.value=!1},onFinish:()=>{h.value=!1}}))};return(a,e)=>(r(),j(G,null,{default:z(()=>{var D,E;return[t("div",H,[t("div",I,[e[15]||(e[15]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Voucher Providers"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5"}," Manage the voucher providers available to chatbot users ")],-1)),t("button",{onClick:e[0]||(e[0]=s=>g.value=!0),class:"flex items-center gap-2 px-4 py-2 xash-gradient text-white text-sm font-medium rounded-lg shadow hover:opacity-90 transition-opacity"},[...e[14]||(e[14]=[t("i",{class:"fas fa-plus"},null,-1),u(" Add Provider ",-1)])])]),(D=a.$page.props.flash)!=null&&D.success?(r(),o("div",J,[e[16]||(e[16]=t("i",{class:"fas fa-check-circle"},null,-1)),u(" "+b(a.$page.props.flash.success),1)])):i("",!0),_.providers.length>0?(r(),o("div",K,[(r(!0),o(B,null,O(_.providers,s=>(r(),o("div",{key:s.id,class:m(["bg-white dark:bg-slate-800 rounded-xl shadow border transition-all duration-200",s.is_enabled?"border-green-300 dark:border-green-700 ring-1 ring-green-200 dark:ring-green-800":"border-gray-200 dark:border-slate-700"])},[t("div",Q,[t("div",R,[t("div",W,[t("div",{class:m(["w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",s.is_enabled?"xash-gradient text-white":"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500"])},[...e[17]||(e[17]=[t("i",{class:"fas fa-ticket-alt"},null,-1)])],2),t("div",null,[t("p",X,b(s.name),1),t("p",Y,b(s.code),1)])]),t("button",{onClick:P=>N(s),class:m(["relative inline-flex h-6 w-11 flex-shrink-0 rounded-full border-2 border-transparent transition-colors duration-200 focus:outline-none",s.is_enabled?"bg-green-500":"bg-gray-200 dark:bg-slate-600"]),title:s.is_enabled?"Disable provider":"Enable provider"},[t("span",{class:m(["pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform transition-transform duration-200",s.is_enabled?"translate-x-5":"translate-x-0"])},null,2)],10,Z)]),t("div",ee,[t("span",{class:m(["text-xs font-semibold px-2 py-0.5 rounded-full",s.is_enabled?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-gray-400"])},b(s.is_enabled?"Enabled":"Disabled"),3),t("div",te,[t("button",{onClick:P=>T(s),class:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Edit provider"},[...e[18]||(e[18]=[t("i",{class:"fas fa-pencil-alt text-xs"},null,-1)])],8,se),t("button",{onClick:P=>L(s),class:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",title:"Delete provider"},[...e[19]||(e[19]=[t("i",{class:"fas fa-trash text-xs"},null,-1)])],8,re)])])])],2))),128))])):(r(),o("div",ae,[...e[20]||(e[20]=[t("div",{class:"w-14 h-14 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mb-4"},[t("i",{class:"fas fa-ticket-alt text-2xl text-gray-400 dark:text-gray-500"})],-1),t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"No voucher providers yet",-1),t("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},'Click "Add Provider" to get started',-1)])]))]),(r(),j(V,{to:"body"},[g.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:e[6]||(e[6]=y(s=>g.value=!1,["self"]))},[t("div",oe,[t("div",le,[e[22]||(e[22]=t("h2",{class:"text-base font-semibold text-gray-900 dark:text-white"},"Add Voucher Provider",-1)),t("button",{onClick:e[1]||(e[1]=s=>g.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...e[21]||(e[21]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("form",{onSubmit:y(F,["prevent"]),class:"p-5 space-y-4"},[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Provider Name",-1)),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.name=s),type:"text",placeholder:"e.g. 1Voucher",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[p,l.name]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[u("Code "),t("span",{class:"text-gray-400 font-normal"},"(unique slug, no spaces)")],-1)),v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.code=s),type:"text",placeholder:"e.g. 1voucher",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 font-mono",required:""},null,512),[[p,l.code]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sort Order",-1)),v(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.sort_order=s),type:"number",min:"0",placeholder:"0",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[p,l.sort_order,void 0,{number:!0}]])]),k.value?(r(),o("div",de,b(k.value),1)):i("",!0),t("div",ne,[t("button",{type:"button",onClick:e[5]||(e[5]=s=>g.value=!1),class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors"}," Cancel "),t("button",{type:"submit",disabled:c.value,class:"px-4 py-2 text-sm font-medium text-white xash-gradient rounded-lg hover:opacity-90 disabled:opacity-60 transition-opacity"},[c.value?(r(),o("i",ue)):i("",!0),e[26]||(e[26]=u(" Add Provider ",-1))],8,ie)])],32)])])):i("",!0)])),(r(),j(V,{to:"body"},[x.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:e[11]||(e[11]=y(s=>x.value=!1,["self"]))},[t("div",ge,[t("div",xe,[e[28]||(e[28]=t("h2",{class:"text-base font-semibold text-gray-900 dark:text-white"},"Edit Provider",-1)),t("button",{onClick:e[7]||(e[7]=s=>x.value=!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...e[27]||(e[27]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("form",{onSubmit:y(M,["prevent"]),class:"p-5 space-y-4"},[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Provider Name",-1)),v(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>d.name=s),type:"text",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[p,d.name]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Code",-1)),t("input",{value:d.code,type:"text",class:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700/50 text-gray-500 dark:text-gray-400 font-mono cursor-not-allowed",disabled:""},null,8,be),e[31]||(e[31]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},"Code cannot be changed after creation",-1))]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sort Order",-1)),v(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>d.sort_order=s),type:"number",min:"0",class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[p,d.sort_order,void 0,{number:!0}]])]),t("div",fe,[t("button",{type:"button",onClick:e[10]||(e[10]=s=>x.value=!1),class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors"}," Cancel "),t("button",{type:"submit",disabled:w.value,class:"px-4 py-2 text-sm font-medium text-white xash-gradient rounded-lg hover:opacity-90 disabled:opacity-60 transition-opacity"},[w.value?(r(),o("i",ye)):i("",!0),e[33]||(e[33]=u(" Save Changes ",-1))],8,me)])],32)])])):i("",!0)])),(r(),j(V,{to:"body"},[f.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:e[13]||(e[13]=y(s=>f.value=!1,["self"]))},[t("div",ve,[t("div",pe,[e[37]||(e[37]=t("div",{class:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4"},[t("i",{class:"fas fa-trash text-red-600 dark:text-red-400 text-lg"})],-1)),e[38]||(e[38]=t("h3",{class:"text-base font-semibold text-gray-900 dark:text-white mb-1"},"Delete Provider",-1)),t("p",ce,[e[34]||(e[34]=u(" Are you sure you want to delete ",-1)),t("span",ke,b((E=C.value)==null?void 0:E.name),1),e[35]||(e[35]=u("? This action cannot be undone. ",-1))]),t("div",we,[t("button",{onClick:e[12]||(e[12]=s=>f.value=!1),class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors"}," Cancel "),t("button",{onClick:U,disabled:h.value,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg disabled:opacity-60 transition-colors"},[h.value?(r(),o("i",Ce)):i("",!0),e[36]||(e[36]=u(" Delete ",-1))],8,he)])])])])):i("",!0)]))]}),_:1}))}});export{_e as default};
