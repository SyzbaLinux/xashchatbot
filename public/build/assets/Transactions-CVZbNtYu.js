import{A as B}from"./AdminLayout-DoruTe-w.js";import{d as N,i as V,c as u,w as p,a as t,t as s,b as d,e as c,o,F as _,r as w,f as g,n as i,u as x,l as C,T as A,g as f,j as b}from"./app-DL7VrrT4.js";import"./NavLink.vue_vue_type_script_setup_true_lang-BLKJZ9FY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"space-y-6"},S={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},$={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},z={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},D={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},R={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},P={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},I={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},L={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},M={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},q={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 overflow-hidden"},E={key:0,class:"overflow-x-auto"},K={class:"w-full text-sm"},O={class:"divide-y divide-gray-100 dark:divide-slate-700"},Z={class:"px-5 py-3.5 whitespace-nowrap text-gray-700 dark:text-gray-300 font-mono text-xs"},G={class:"px-5 py-3.5 whitespace-nowrap"},H={class:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-full text-xs font-medium capitalize"},J={class:"px-5 py-3.5 whitespace-nowrap text-gray-700 dark:text-gray-300 font-mono text-xs"},Q={class:"px-5 py-3.5 whitespace-nowrap text-gray-900 dark:text-white font-semibold"},U={class:"px-5 py-3.5 whitespace-nowrap"},W={class:"inline-flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400"},X={class:"px-5 py-3.5 whitespace-nowrap"},Y={class:"px-5 py-3.5 whitespace-nowrap text-xs text-gray-500 dark:text-gray-400"},tt={class:"px-5 py-3.5 whitespace-nowrap text-right"},et=["onClick"],at={key:1,class:"py-16 text-center"},st={key:2,class:"px-5 py-4 border-t border-gray-100 dark:border-slate-700 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},rt={class:"flex gap-2"},lt={key:0,class:"fixed inset-0 z-50 flex justify-end"},ot={class:"relative w-full max-w-md bg-white dark:bg-slate-900 h-full overflow-y-auto shadow-2xl flex flex-col"},nt={class:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-900 z-10"},dt={class:"flex items-center gap-3"},it={class:"text-sm font-semibold text-gray-900 dark:text-white"},xt={class:"text-xs text-gray-500 dark:text-gray-400"},ct={class:"p-6 space-y-6 flex-1"},gt={class:"text-center py-4 bg-gray-50 dark:bg-slate-800 rounded-xl"},ut={class:"text-4xl font-bold text-gray-900 dark:text-white"},yt={class:"space-y-3"},pt={class:"flex items-center gap-1.5 text-sm text-gray-700 dark:text-gray-300"},ft={key:0},bt={class:"space-y-2"},mt={class:"text-gray-500 dark:text-gray-400 capitalize shrink-0"},kt={class:"text-gray-800 dark:text-gray-200 text-right break-all font-mono text-xs"},y=N({props:{label:{type:String,required:!0},value:{type:String,default:""},mono:{type:Boolean,default:!1}},setup(r,{slots:a}){return()=>b("div",{class:"flex justify-between items-start gap-4"},[b("span",{class:"text-xs text-gray-500 dark:text-gray-400 shrink-0 pt-0.5"},r.label),a.default?b("div",{class:"text-right"},a.default()):b("span",{class:`text-sm text-right break-all ${r.mono?"font-mono text-xs text-gray-700 dark:text-gray-300":"text-gray-800 dark:text-gray-200"}`},r.value)])}}),Ct=N({__name:"Transactions",props:{transactions:{},stats:{}},setup(r){const a=V(null),T=n=>{a.value=n},k=n=>n==="success"?"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":n==="failed"?"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200":"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200",h=n=>n==="success"?"fas fa-check-circle":n==="failed"?"fas fa-times-circle":"fas fa-clock",v=n=>({voucher:"fa-ticket-alt",ecocash:"fa-mobile-alt",onemoney:"fa-sim-card",innbucks:"fa-wallet",mpesa:"fa-mobile-alt",orangemoney:"fa-circle",express:"fa-credit-card"})[n]??"fa-credit-card",j=n=>n.replace(/_/g," ");return(n,e)=>(o(),u(B,null,{default:p(()=>[t("div",F,[e[10]||(e[10]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Transactions"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5"},"All chatbot payment transactions")],-1)),t("div",S,[t("div",$,[e[2]||(e[2]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Total",-1)),t("p",z,s(r.stats.total),1)]),t("div",D,[e[3]||(e[3]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Successful",-1)),t("p",R,s(r.stats.successful),1)]),t("div",P,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Failed",-1)),t("p",I,s(r.stats.failed),1)]),t("div",L,[e[5]||(e[5]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Volume",-1)),t("p",M,"ZAR "+s(Number(r.stats.volume).toFixed(2)),1)])]),t("div",q,[r.transactions.data.length>0?(o(),d("div",E,[t("table",K,[e[6]||(e[6]=t("thead",{class:"bg-gray-50 dark:bg-slate-700/50"},[t("tr",null,[t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Buyer"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Type"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Recipient"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Amount"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Method"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Date"),t("th",{class:"px-5 py-3"})])],-1)),t("tbody",O,[(o(!0),d(_,null,w(r.transactions.data,l=>(o(),d("tr",{key:l.id,class:"hover:bg-green-50/40 dark:hover:bg-green-900/10 transition-colors"},[t("td",Z,s(l.phone_number),1),t("td",G,[t("span",H,s(l.type),1)]),t("td",J,s(l.recipient),1),t("td",Q,s(l.currency)+" "+s(Number(l.amount).toFixed(2)),1),t("td",U,[t("span",W,[t("i",{class:i(`fas ${v(l.payment_method)} text-gray-400`)},null,2),g(" "+s(l.payment_method),1)])]),t("td",X,[t("span",{class:i(k(l.status))},[t("i",{class:i(h(l.status))},null,2),g(" "+s(l.status),1)],2)]),t("td",Y,s(l.created_at),1),t("td",tt,[t("button",{onClick:m=>T(l),class:"text-xs text-green-600 dark:text-green-400 hover:underline font-medium"}," View ",8,et)])]))),128))])])])):(o(),d("div",at,[...e[7]||(e[7]=[t("i",{class:"fas fa-receipt text-gray-300 dark:text-gray-600 text-4xl mb-3"},null,-1),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No transactions yet",-1)])])),r.transactions.last_page>1?(o(),d("div",st,[t("span",null,"Page "+s(r.transactions.current_page)+" of "+s(r.transactions.last_page),1),t("div",rt,[r.transactions.prev_page_url?(o(),u(x(C),{key:0,href:r.transactions.prev_page_url,class:"px-3 py-1.5 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors"},{default:p(()=>[...e[8]||(e[8]=[g("← Prev",-1)])]),_:1},8,["href"])):c("",!0),r.transactions.next_page_url?(o(),u(x(C),{key:1,href:r.transactions.next_page_url,class:"px-3 py-1.5 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded hover:bg-green-100 dark:hover:bg-green-900/40 transition-colors"},{default:p(()=>[...e[9]||(e[9]=[g("Next →",-1)])]),_:1},8,["href"])):c("",!0)])])):c("",!0)])]),(o(),u(A,{to:"body"},[a.value?(o(),d("div",lt,[t("div",{class:"absolute inset-0 bg-black/40",onClick:e[0]||(e[0]=l=>a.value=null)}),t("div",ot,[t("div",nt,[t("div",dt,[t("div",{class:i(["w-9 h-9 rounded-lg flex items-center justify-center",a.value.status==="success"?"bg-green-100 dark:bg-green-900/30":a.value.status==="failed"?"bg-red-100 dark:bg-red-900/30":"bg-yellow-100 dark:bg-yellow-900/30"])},[t("i",{class:i(["fas",a.value.status==="success"?"fa-check text-green-600 dark:text-green-400":a.value.status==="failed"?"fa-times text-red-600 dark:text-red-400":"fa-clock text-yellow-600 dark:text-yellow-400"])},null,2)],2),t("div",null,[t("p",it,"Transaction #"+s(a.value.id),1),t("p",xt,s(a.value.created_at),1)])]),t("button",{onClick:e[1]||(e[1]=l=>a.value=null),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-lg transition-colors"},[...e[11]||(e[11]=[t("i",{class:"fas fa-times"},null,-1)])])]),t("div",ct,[t("div",gt,[e[12]||(e[12]=t("p",{class:"text-xs text-gray-400 dark:text-gray-500 mb-1 uppercase tracking-wider"},"Amount",-1)),t("p",ut,s(a.value.currency)+" "+s(Number(a.value.amount).toFixed(2)),1),t("span",{class:i(["mt-2 inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold",k(a.value.status)])},[t("i",{class:i(h(a.value.status))},null,2),g(" "+s(a.value.status),1)],2)]),t("div",yt,[f(x(y),{label:"Buyer",value:a.value.phone_number,mono:""},null,8,["value"]),f(x(y),{label:"Recipient",value:a.value.recipient,mono:""},null,8,["value"]),f(x(y),{label:"Type",value:a.value.type},null,8,["value"]),f(x(y),{label:"Payment Method"},{default:p(()=>[t("span",pt,[t("i",{class:i(`fas ${v(a.value.payment_method)} text-gray-400 text-xs`)},null,2),g(" "+s(a.value.payment_method),1)])]),_:1}),a.value.voucher_code?(o(),u(x(y),{key:0,label:"Voucher Code",value:a.value.voucher_code,mono:""},null,8,["value"])):c("",!0)]),a.value.response_data&&Object.keys(a.value.response_data).length?(o(),d("div",ft,[e[13]||(e[13]=t("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2"},"Details",-1)),t("div",bt,[(o(!0),d(_,null,w(a.value.response_data,(l,m)=>(o(),d("div",{key:m,class:"flex justify-between items-start gap-4 text-sm"},[t("span",mt,s(j(String(m))),1),t("span",kt,s(l),1)]))),128))])])):c("",!0)])])])):c("",!0)]))]),_:1}))}});export{y as DetailRow,Ct as default};
