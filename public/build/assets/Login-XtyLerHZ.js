import{d as y,s as V,b as c,a as l,n as v,z as S,f as _,t as F,o as m,i as P,A as f,c as A,w as g,g as s,m as b,u as r}from"./app-DL7VrrT4.js";import{u as B,G as C}from"./GuestLayout-DG38WC-c.js";import{A as T,a as h}from"./AuthButton-C1r3t2Zh.js";import{F as p}from"./FormInput-FuL2Tz6c.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"mb-6 flex items-center"},I=["id","checked"],M=["for"],L=y({__name:"FormCheckbox",props:{modelValue:{type:Boolean},label:{default:""},id:{}},emits:["update:modelValue"],setup(d){const u=d,n=V(()=>u.id||`checkbox-${Math.random().toString(36).substr(2,9)}`);return(i,e)=>(m(),c("div",E,[l("input",{id:n.value,type:"checkbox",checked:d.modelValue,onChange:e[0]||(e[0]=a=>i.$emit("update:modelValue",a.target.checked)),class:v(["w-4 h-4 border-gray-300 dark:border-gray-600 rounded cursor-pointer","text-emerald-600 dark:text-emerald-500","focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400","accent-emerald-600 dark:accent-emerald-500"])},null,40,I),l("label",{for:n.value,class:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer hover:text-gray-900 dark:hover:text-gray-100 transition-colors"},[S(i.$slots,"default",{},()=>[_(F(d.label),1)],!0)],8,M)]))}}),N=k(L,[["__scopeId","data-v-e38b735e"]]),O=y({__name:"Login",props:{canResetPassword:{type:Boolean},status:{}},setup(d){const{showSuccess:u,showError:n}=B(),i=P("password"),e=f({email:"",password:"",remember:!1}),a=f({contact:"",method:"whatsapp"}),w=()=>{e.post(route("login.store"),{preserveScroll:!0,onFinish:()=>e.reset("password")})},x=()=>{a.post(route("otp.send"),{preserveScroll:!0,onSuccess:()=>{u("OTP sent successfully!")},onError:()=>{a.errors.contact?n(a.errors.contact):n("Failed to send OTP. Please try again.")}})};return(U,o)=>(m(),A(C,null,{default:g(()=>[s(T,{title:"Sign In",subtitle:"Enter your credentials"},{default:g(()=>[i.value==="password"?(m(),c("form",{key:0,onSubmit:b(w,["prevent"]),class:"space-y-4"},[s(p,{modelValue:r(e).email,"onUpdate:modelValue":o[0]||(o[0]=t=>r(e).email=t),type:"email",label:"Email",id:"email",icon:"fa-envelope",placeholder:"you@example.com",required:"",autocomplete:"email",error:r(e).errors.email},null,8,["modelValue","error"]),s(p,{modelValue:r(e).password,"onUpdate:modelValue":o[1]||(o[1]=t=>r(e).password=t),type:"password",label:"Password",id:"password",icon:"fa-lock",placeholder:"Your password",required:"",autocomplete:"current-password",error:r(e).errors.password},null,8,["modelValue","error"]),s(N,{modelValue:r(e).remember,"onUpdate:modelValue":o[2]||(o[2]=t=>r(e).remember=t),id:"remember",label:"Remember me"},null,8,["modelValue"]),s(h,{type:"submit",label:"Sign In",loading:r(e).processing,loadingText:"Signing in...",icon:"fa-arrow-right"},null,8,["loading"])],32)):(m(),c("form",{key:1,onSubmit:b(x,["prevent"]),class:"space-y-4"},[o[4]||(o[4]=l("div",{class:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},[l("p",{class:"text-emerald-700 dark:text-emerald-300 text-sm flex items-start gap-2"},[l("i",{class:"fas fa-whatsapp mt-0.5 flex-shrink-0"}),l("span",null,"We'll send your login code via WhatsApp. Make sure your phone number is registered with WhatsApp.")])],-1)),s(p,{modelValue:r(a).contact,"onUpdate:modelValue":o[3]||(o[3]=t=>r(a).contact=t),type:"tel",label:"Phone Number",id:"phone",icon:"fa-phone",placeholder:"+1 (555) 000-0000",required:"",error:r(a).errors.contact},null,8,["modelValue","error"]),s(h,{type:"submit",label:"Send WhatsApp OTP",loading:r(a).processing,loadingText:"Sending...",icon:"fa-whatsapp"},null,8,["loading"])],32))]),_:1})]),_:1}))}}),R=k(O,[["__scopeId","data-v-3800630a"]]);export{R as default};
