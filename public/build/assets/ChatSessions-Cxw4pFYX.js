import{A as c}from"./AdminLayout-DoruTe-w.js";import{d as k,c as n,w as l,a as t,t as a,b as o,e as x,o as d,F as b,r as u,n as i,u as g,l as y,f as p}from"./app-DL7VrrT4.js";import"./NavLink.vue_vue_type_script_setup_true_lang-BLKJZ9FY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const f={class:"space-y-6"},h={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},m={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},w={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},_={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},v={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},C={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},N={class:"text-2xl font-bold text-gray-500 dark:text-gray-400 mt-1"},A={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-5 border border-gray-200 dark:border-slate-700"},S={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1"},B={class:"bg-white dark:bg-slate-800 rounded-lg shadow border border-gray-200 dark:border-slate-700 overflow-hidden"},E={key:0,class:"overflow-x-auto"},L={class:"w-full text-sm"},P={class:"divide-y divide-gray-100 dark:divide-slate-700"},V={class:"px-5 py-3.5 whitespace-nowrap font-mono text-xs text-gray-700 dark:text-gray-300"},j={class:"px-5 py-3.5 whitespace-nowrap"},D={class:"px-5 py-3.5 text-xs text-gray-500 dark:text-gray-400 max-w-[200px] truncate"},F={class:"px-5 py-3.5 whitespace-nowrap text-xs"},O={class:"px-5 py-3.5 whitespace-nowrap text-xs text-gray-500 dark:text-gray-400"},T={key:1,class:"py-16 text-center"},z={key:2,class:"px-5 py-4 border-t border-gray-100 dark:border-slate-700 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},I={class:"flex gap-2"},K=k({__name:"ChatSessions",props:{sessions:{},stats:{}},setup(s){return(J,e)=>(d(),n(c,null,{default:l(()=>[t("div",f,[e[8]||(e[8]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Chat Sessions"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5"},"WhatsApp chatbot conversation states")],-1)),t("div",h,[t("div",m,[e[0]||(e[0]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Total",-1)),t("p",w,a(s.stats.total),1)]),t("div",_,[e[1]||(e[1]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Active",-1)),t("p",v,a(s.stats.active),1)]),t("div",C,[e[2]||(e[2]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Idle",-1)),t("p",N,a(s.stats.idle),1)]),t("div",A,[e[3]||(e[3]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},"Expired",-1)),t("p",S,a(s.stats.expired),1)])]),t("div",B,[s.sessions.data.length>0?(d(),o("div",E,[t("table",L,[e[4]||(e[4]=t("thead",{class:"bg-gray-50 dark:bg-slate-700/50"},[t("tr",null,[t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Phone"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Step"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Data"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Expires"),t("th",{class:"px-5 py-3 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Last Activity")])],-1)),t("tbody",P,[(d(!0),o(b,null,u(s.sessions.data,r=>(d(),o("tr",{key:r.id,class:"hover:bg-green-50/40 dark:hover:bg-green-900/10 transition-colors"},[t("td",V,a(r.phone_number),1),t("td",j,[t("span",{class:i(["inline-flex px-2 py-0.5 rounded-full text-xs font-medium",r.step==="idle"?"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-400":"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200"])},a(r.step),3)]),t("td",D,a(r.session_data&&Object.keys(r.session_data).length?JSON.stringify(r.session_data):"—"),1),t("td",F,[t("span",{class:i(r.is_expired?"text-red-500 dark:text-red-400":"text-gray-500 dark:text-gray-400")},a(r.expires_at??"—"),3)]),t("td",O,a(r.updated_at),1)]))),128))])])])):(d(),o("div",T,[...e[5]||(e[5]=[t("i",{class:"fas fa-comments text-gray-300 dark:text-gray-600 text-4xl mb-3"},null,-1),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"No chat sessions yet",-1)])])),s.sessions.last_page>1?(d(),o("div",z,[t("span",null,"Page "+a(s.sessions.current_page)+" of "+a(s.sessions.last_page),1),t("div",I,[s.sessions.prev_page_url?(d(),n(g(y),{key:0,href:s.sessions.prev_page_url,class:"px-3 py-1.5 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded hover:bg-green-100 transition-colors"},{default:l(()=>[...e[6]||(e[6]=[p("← Prev",-1)])]),_:1},8,["href"])):x("",!0),s.sessions.next_page_url?(d(),n(g(y),{key:1,href:s.sessions.next_page_url,class:"px-3 py-1.5 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded hover:bg-green-100 transition-colors"},{default:l(()=>[...e[7]||(e[7]=[p("Next →",-1)])]),_:1},8,["href"])):x("",!0)])])):x("",!0)])])]),_:1}))}});export{K as default};
