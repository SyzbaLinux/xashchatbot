import{d as y,c as C,a as c,e as o,n as b,k as F,h as n,t as $,p as u,r as T,v as k,q as B,w as p,f as d,i as w,g as r,b as A,l as h}from"./app-DCG8WSW0.js";import{u as N,G as q}from"./GuestLayout-BW1lEIO-.js";import{A as E,a as v}from"./AuthButton-CA-KyxKm.js";import{F as g}from"./FormInput-CpG-ub-_.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"mb-6 flex items-center"},M=["id","checked"],O=["for"],L=y({__name:"FormCheckbox",props:{modelValue:{type:Boolean},label:{default:""},id:{}},emits:["update:modelValue"],setup(m){const f=m,i=C(()=>f.id||`checkbox-${Math.random().toString(36).substr(2,9)}`);return(a,t)=>(u(),c("div",I,[o("input",{id:i.value,type:"checkbox",checked:m.modelValue,onChange:t[0]||(t[0]=s=>a.$emit("update:modelValue",s.target.checked)),class:b(["w-4 h-4 border-gray-300 dark:border-gray-600 rounded cursor-pointer","text-emerald-600 dark:text-emerald-500","focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400","accent-emerald-600 dark:accent-emerald-500"])},null,40,M),o("label",{for:i.value,class:"ml-3 text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer hover:text-gray-900 dark:hover:text-gray-100 transition-colors"},[F(a.$slots,"default",{},()=>[n($(m.label),1)])],8,O)]))}}),U=V(L,[["__scopeId","data-v-e38b735e"]]),W={class:"flex gap-2 mb-6 p-1 bg-slate-100 dark:bg-slate-700 rounded-lg"},R={class:"mt-5 space-y-2 text-center text-sm text-gray-600 dark:text-gray-400"},G={key:0},_=y({__name:"Login",props:{canResetPassword:{type:Boolean},status:{}},setup(m){const{showSuccess:f,showError:i}=N(),a=T("password"),t=k({email:"",password:"",remember:!1}),s=k({contact:"",method:"whatsapp"}),S=()=>{t.post(route("login.store"),{preserveScroll:!0,onFinish:()=>t.reset("password")})},P=()=>{s.post(route("otp.send"),{preserveScroll:!0,onSuccess:()=>{f("OTP sent successfully!")},onError:()=>{s.errors.contact?i(s.errors.contact):i("Failed to send OTP. Please try again.")}})};return(x,e)=>(u(),B(q,null,{default:p(()=>[d(E,{title:"Sign In",subtitle:"Enter your credentials"},{default:p(()=>[o("div",W,[o("button",{onClick:e[0]||(e[0]=l=>a.value="password"),class:b([{"bg-white dark:bg-slate-800 text-emerald-600 dark:text-emerald-400 shadow-sm":a.value==="password","text-slate-600 dark:text-slate-400":a.value!=="password"},"flex-1 py-2 px-4 rounded-md font-medium transition-colors"])},[...e[6]||(e[6]=[o("i",{class:"fas fa-lock mr-2"},null,-1),n(" Password ",-1)])],2),o("button",{onClick:e[1]||(e[1]=l=>a.value="otp"),class:b([{"bg-white dark:bg-slate-800 text-emerald-600 dark:text-emerald-400 shadow-sm":a.value==="otp","text-slate-600 dark:text-slate-400":a.value!=="otp"},"flex-1 py-2 px-4 rounded-md font-medium transition-colors"])},[...e[7]||(e[7]=[o("i",{class:"fas fa-message mr-2"},null,-1),n(" OTP ",-1)])],2)]),a.value==="password"?(u(),c("form",{key:0,onSubmit:w(S,["prevent"]),class:"space-y-4"},[d(g,{modelValue:r(t).email,"onUpdate:modelValue":e[2]||(e[2]=l=>r(t).email=l),type:"email",label:"Email",id:"email",icon:"fa-envelope",placeholder:"you@example.com",required:"",autocomplete:"email",error:r(t).errors.email},null,8,["modelValue","error"]),d(g,{modelValue:r(t).password,"onUpdate:modelValue":e[3]||(e[3]=l=>r(t).password=l),type:"password",label:"Password",id:"password",icon:"fa-lock",placeholder:"Your password",required:"",autocomplete:"current-password",error:r(t).errors.password},null,8,["modelValue","error"]),d(U,{modelValue:r(t).remember,"onUpdate:modelValue":e[4]||(e[4]=l=>r(t).remember=l),id:"remember",label:"Remember me"},null,8,["modelValue"]),d(v,{type:"submit",label:"Sign In",loading:r(t).processing,loadingText:"Signing in...",icon:"fa-arrow-right"},null,8,["loading"])],32)):(u(),c("form",{key:1,onSubmit:w(P,["prevent"]),class:"space-y-4"},[e[8]||(e[8]=o("div",{class:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},[o("p",{class:"text-emerald-700 dark:text-emerald-300 text-sm flex items-start gap-2"},[o("i",{class:"fas fa-whatsapp mt-0.5 flex-shrink-0"}),o("span",null,"We'll send your login code via WhatsApp. Make sure your phone number is registered with WhatsApp.")])],-1)),d(g,{modelValue:r(s).contact,"onUpdate:modelValue":e[5]||(e[5]=l=>r(s).contact=l),type:"tel",label:"Phone Number",id:"phone",icon:"fa-phone",placeholder:"+1 (555) 000-0000",required:"",error:r(s).errors.contact},null,8,["modelValue","error"]),d(v,{type:"submit",label:"Send WhatsApp OTP",loading:r(s).processing,loadingText:"Sending...",icon:"fa-whatsapp"},null,8,["loading"])],32)),o("div",R,[m.canResetPassword&&a.value==="password"?(u(),c("div",G,[d(r(h),{href:x.route("password.request"),class:"block font-medium text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 transition-colors"},{default:p(()=>[...e[9]||(e[9]=[n(" Forgot password? ",-1)])]),_:1},8,["href"])])):A("",!0),o("div",null,[e[11]||(e[11]=n(" No account? ",-1)),d(r(h),{href:x.route("register"),class:"font-medium text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 transition-colors"},{default:p(()=>[...e[10]||(e[10]=[n(" Sign up ",-1)])]),_:1},8,["href"])])])]),_:1})]),_:1}))}}),J=V(_,[["__scopeId","data-v-6d5d7768"]]);export{J as default};
